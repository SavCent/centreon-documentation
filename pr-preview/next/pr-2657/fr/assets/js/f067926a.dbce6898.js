"use strict";(self.webpackChunkcentreon_docs=self.webpackChunkcentreon_docs||[]).push([[8765],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,g=c["".concat(l,".").concat(m)]||c[m]||d[m]||s;return n?r.createElement(g,i(i({ref:t},u),{},{components:n})):r.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,i=new Array(s);i[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:a,i[1]=o;for(var p=2;p<s;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},56023:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>g,frontMatter:()=>o,metadata:()=>p,toc:()=>c});n(67294);var r=n(3905);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const o={id:"autodisco-aws",title:"D\xe9couvrir des instances AWS EC2 avec autodiscovery"},l=void 0,p={unversionedId:"getting-started/autodisco-aws",id:"getting-started/autodisco-aws",title:"D\xe9couvrir des instances AWS EC2 avec autodiscovery",description:"Dans ce tutoriel, nous allons utiliser le module Auto Discovery pour d\xe9tecter des instances AWS EC2 et les mettre en supervision.",source:"@site/i18n/fr/docusaurus-plugin-content-docs-cloud/current/getting-started/autodisco-aws.md",sourceDirName:"getting-started",slug:"/getting-started/autodisco-aws",permalink:"/centreon-documentation/pr-preview/next/pr-2657/fr/cloud/getting-started/autodisco-aws",draft:!1,editUrl:"https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs-cloud/current/getting-started/autodisco-aws.md",tags:[],version:"current",frontMatter:{id:"autodisco-aws",title:"D\xe9couvrir des instances AWS EC2 avec autodiscovery"},sidebar:"cloud",previous:{title:"Superviser une base de donn\xe9es MySQL ou MariaDB",permalink:"/centreon-documentation/pr-preview/next/pr-2657/fr/cloud/getting-started/monitor-mysql-server"},next:{title:"Comment cr\xe9er une vue personnalis\xe9e ?",permalink:"/centreon-documentation/pr-preview/next/pr-2657/fr/cloud/getting-started/create-custom-view"}},u={},c=[{value:"Pr\xe9requis",id:"pr\xe9requis",level:2},{value:"\xc9tape 1 : Installer les d\xe9pendances du plugin Amazon EC2",id:"\xe9tape-1--installer-les-d\xe9pendances-du-plugin-amazon-ec2",level:2},{value:"\xc9tape 2 : Configurer la t\xe2che de d\xe9couverte",id:"\xe9tape-2--configurer-la-t\xe2che-de-d\xe9couverte",level:2},{value:"\xc9tape 3 : Sauvegarder les h\xf4tes et les mettre en supervision",id:"\xe9tape-3--sauvegarder-les-h\xf4tes-et-les-mettre-en-supervision",level:2}],d={toc:c},m="wrapper";function g(e){var{components:t}=e,o=i(e,["components"]);return(0,r.kt)(m,s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,o),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Dans ce tutoriel, nous allons utiliser le module Auto Discovery pour d\xe9tecter des instances AWS EC2 et les mettre en supervision."),(0,r.kt)("h2",{id:"pr\xe9requis"},"Pr\xe9requis"),(0,r.kt)("p",null,"Vous devez disposer :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"des informations d'identification pour le groupe d'instances AWS que vous souhaitez superviser (nom, AWS Access Key et AWS Secret Key)"),(0,r.kt)("li",{parentName:"ul"},"de la r\xe9gion dans laquelle se trouvent vos instances.")),(0,r.kt)("h2",{id:"\xe9tape-1--installer-les-d\xe9pendances-du-plugin-amazon-ec2"},"\xc9tape 1 : Installer les d\xe9pendances du plugin Amazon EC2"),(0,r.kt)("p",null,"Connectez-vous en SSH sur le collecteur qui supervisera vos instances EC2, puis installez les \xe9l\xe9ments suivants :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install awscli\nyum install centreon-plugin-Cloud-Aws-Ec2-Api\n")),(0,r.kt)("h2",{id:"\xe9tape-2--configurer-la-t\xe2che-de-d\xe9couverte"},"\xc9tape 2 : Configurer la t\xe2che de d\xe9couverte"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,r.kt)("strong",{parentName:"p"},"Configuration > H\xf4tes > D\xe9couverte"),", puis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Ajouter"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Entrez un nom pour votre t\xe2che de d\xe9couverte, puis s\xe9lectionnez le fournisseur ",(0,r.kt)("strong",{parentName:"p"},"Amazon AWS EC2"),". Cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Suivant"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"image",src:n(79779).Z,width:"1381",height:"696"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"S\xe9lectionnez le collecteur qui supervisera vos instances EC2.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Si votre infrastructure le demande, renseignez les d\xe9tails du proxy d\xe9sir\xe9.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Cliquez sur le ",(0,r.kt)("inlineCode",{parentName:"p"},"+")," \xe0 droite de la liste ",(0,r.kt)("strong",{parentName:"p"},"Choisir des identifants"),". Renseignez les champs Nom, AWS Access Key et AWS Secret Key,\npuis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Confirmer"),". Cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Suivant"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Entrez la r\xe9gion o\xf9 se situent vos instances EC2 (par exemple, ",(0,r.kt)("strong",{parentName:"p"},"eu-north-1"),"). Cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Suivant"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\xc9ditez ou ajoutez des modificateurs :"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Faites correspondre ",(0,r.kt)("inlineCode",{parentName:"li"},"host.name")," \xe0 l'attribut ",(0,r.kt)("inlineCode",{parentName:"li"},"discovery.results.name"),". Les noms de vos h\xf4tes dans Centreon seront ceux d\xe9finis dans cet attribut (c'est-\xe0-dire le hostname de l'instance)."),(0,r.kt)("li",{parentName:"ul"},'Dans notre exemple, nous allons exclure les instances dont le hostname contient "test".')),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"image",src:n(58413).Z,width:"444",height:"308"})),(0,r.kt)("p",{parentName:"li"},"Cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Suivant"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"S\xe9lectionnez ",(0,r.kt)("strong",{parentName:"p"},"Analyse manuelle")," : nous devrons ajouter manuellement les h\xf4tes \xe0 la liste des h\xf4tes \xe0 superviser. Cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Suivant"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"S\xe9lectionnez ",(0,r.kt)("strong",{parentName:"p"},"Ex\xe9cuter imm\xe9diatement")," puis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Finir"),". La t\xe2che de d\xe9couverte appara\xeet dans la liste des t\xe2ches."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"image",src:n(51658).Z,width:"707",height:"233"})))),(0,r.kt)("h2",{id:"\xe9tape-3--sauvegarder-les-h\xf4tes-et-les-mettre-en-supervision"},"\xc9tape 3 : Sauvegarder les h\xf4tes et les mettre en supervision"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Apr\xe8s quelques secondes, rafra\xeechissez la page. Une coche verte devrait appara\xeetre dans la colonne ",(0,r.kt)("strong",{parentName:"p"},"Statut"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"image",src:n(77379).Z,width:"706",height:"235"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Survolez la ligne correspondant \xe0 la t\xe2che qui vient de se terminer puis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Display the job result")," (l'ic\xf4ne fl\xe8che). Une liste d'h\xf4tes appara\xeet."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"image",src:n(19839).Z,width:"948",height:"246"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"S\xe9lectionnez les h\xf4tes que vous souhaitez ajouter \xe0 la liste des h\xf4tes supervis\xe9s, puis cliquez sur ",(0,r.kt)("strong",{parentName:"p"},"Enregistrer"),". ",(0,r.kt)("img",{alt:"image",src:n(75957).Z,width:"29",height:"37"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Allez \xe0 la page ",(0,r.kt)("strong",{parentName:"p"},"Configuration > H\xf4tes > H\xf4tes (simplifi\xe9s)")," et v\xe9rifiez que les h\xf4tes que vous avez s\xe9lectionn\xe9s \xe0 l'\xe9tape pr\xe9cedente apparaissent bien dans la liste. Attention, les h\xf4tes ont \xe9t\xe9 ajout\xe9s \xe0 la liste des h\xf4tes mais ils ne sont pas encore supervis\xe9s.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"/centreon-documentation/pr-preview/next/pr-2657/fr/cloud/monitoring/monitoring-servers/deploying-a-configuration"},"D\xe9ployez la configuration"),". Les h\xf4tes apparaissent \xe0 la page ",(0,r.kt)("strong",{parentName:"p"},"Statut des ressources")," : ils sont maintenant supervis\xe9s."))))}g.isMDXComponent=!0},51658:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/aws-listofjobs-d5b8712131d2f6bbee6a6eb7efaee929.png"},58413:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/aws-mapper-43a33065a2775d4154072f6aeb9c9980.png"},79779:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/aws-provider-7e73e303707ee802c06dc892eb72a37e.png"},19839:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/aws-results-bca2c6da8da663f22290f0a7c4b05b3f.png"},75957:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAlCAYAAAC+uuLPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAADeSURBVFhH7dOxDgFBEMZxD6DT6FQ63XU0dPeSGoWGgkg8AC+hkWs1+wwr3ySTjM3cWhcjxBT/ZG/X7C8X9EII8dM5apqjpnVCB/0lpZ2V5Gg2R0v7XvR8usZ6sY9Nc6NniWIPZ/iMnMlVhNbzHSGzaksIo1hjD+vJeK3OaqkoX8rPuHxabWiPEbkeDVcPb8rn/JxWhCIJy1IQ8ZnckxWjKIU1ELXNcy+hiOE2EL0dRYBzv1YT9Fm/g+L74sGu5f63Kno8XGhIu6wkzOIO7W6kotY5apqjpjlq2r+gId4BMvb1+vKeY1YAAAAASUVORK5CYII="},77379:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/aws-success-019dbe3951b911798fae0c4f47bdf638.png"}}]);