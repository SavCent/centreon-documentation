<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper docs-doc-page docs-version-21.10 plugin-docs plugin-id-default docs-doc-id-administration/secure-platform">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">S√©curisez votre plateforme | Centreon Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="21.10"><meta data-rh="true" name="docusaurus_tag" content="docs-default-21.10"><meta data-rh="true" name="docsearch:version" content="21.10"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-21.10"><meta data-rh="true" property="og:title" content="S√©curisez votre plateforme | Centreon Documentation"><meta data-rh="true" name="description" content="Ce chapitre vous propose de s√©curiser votre plateforme Centreon."><meta data-rh="true" property="og:description" content="Ce chapitre vous propose de s√©curiser votre plateforme Centreon."><link data-rh="true" rel="icon" href="/centreon-documentation/pr-preview/pr-2614/fr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2614/docs/21.10/administration/secure-platform/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.centreon.com/centreon-documentation/pr-preview/pr-2614/docs/21.10/administration/secure-platform/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3WEC6XPLDB-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8418698-13","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BGL69N5GPJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BGL69N5GPJ",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Centreon Documentation" href="/centreon-documentation/pr-preview/pr-2614/fr/opensearch.xml"><link rel="stylesheet" href="/centreon-documentation/pr-preview/pr-2614/fr/assets/css/styles.b8ea7ca9.css">
<link rel="preload" href="/centreon-documentation/pr-preview/pr-2614/fr/assets/js/runtime~main.41702fdf.js" as="script">
<link rel="preload" href="/centreon-documentation/pr-preview/pr-2614/fr/assets/js/main.48e12780.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/centreon-documentation/pr-preview/pr-2614/fr/"><div class="navbar__logo"><img src="/centreon-documentation/pr-preview/pr-2614/fr/img/logo_centreon_dark.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/centreon-documentation/pr-preview/pr-2614/fr/img/logo_centreon.png" alt="Logo Centreon Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/getting-started/welcome/">Centreon OnPrem</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2614/fr/cloud/getting-started/architecture/">Centreon Cloud</a><a class="navbar__item navbar__link" href="/centreon-documentation/pr-preview/pr-2614/fr/pp/integrations/plugin-packs/getting-started/introduction/">Connecteurs de supervision</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Chercher"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Chercher</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/getting-started/installation-first-steps/">21.10</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/administration/secure-platform/">‚≠ê 23.04</a></li><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/22.10/administration/secure-platform/">22.10</a></li><li><a class="dropdown__link" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/22.04/administration/secure-platform/">22.04</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/">21.10</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-archived-versions"><b>Versions archiv√©es</b></li><li><a href="https://archives-docs.centreon.com/21.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">21.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.10/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.10<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://archives-docs.centreon.com/20.04/" target="_blank" rel="noopener noreferrer" class="dropdown__link">20.04<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs-older.centreon.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Older<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>üá´üá∑ Fran√ßais</a><ul class="dropdown__menu"><li><a href="/centreon-documentation/pr-preview/pr-2614/docs/21.10/administration/secure-platform/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">üá¨üáß English</a></li><li><a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">üá´üá∑ Fran√ßais</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Revenez en haut" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/getting-started/installation-first-steps/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/installation/introduction/">Installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/">S√©curisez votre plate-forme</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/">S√©curisez votre plateforme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/graph-views/secure-your-map-platform/">Secure your MAP platform</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/monitoring/about/">Superviser des ressources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/alerts-notifications/concepts/">G√©rer √©v√®nements et alertes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/metrology/chart-management/">Graphiques de performance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/service-mapping/introduction/">Service Mapping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/graph-views/introduction/">Vues Graphiques</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/reporting/introduction/">Reporting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/parameters/centreon-ui/">Administrer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/update/update-centreon-platform/">Mettre √† Jour, Monter de Version et Migrer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/centreon-documentation/pr-preview/pr-2614/fr/pp/integrations/plugin-packs/getting-started/introduction/">Plugin Packs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/integrations/introduction-integrations/">Int√©grations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/mobile/introduction/">Centreon mobile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/developer/about-developer-resources/">Ressources d√©veloppeur</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/health/centreon-agent/">Supervisez votre plateforme</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/releases/introduction/">Releases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/security/">S√©curit√©</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/resources/known-issues/">Ressources</a></div></li></ul></nav><button type="button" title="R√©duire le menu lat√©ral" aria-label="R√©duire le menu lat√©ral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 21.10</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>S√©curisez votre plateforme</h1></header><p>Ce chapitre vous propose de s√©curiser votre plateforme Centreon.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="renforcez-la-s√©curit√©-des-comptes-utilisateurs">Renforcez la s√©curit√© des comptes utilisateurs<a href="#renforcez-la-s√©curit√©-des-comptes-utilisateurs" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Apr√®s l&#x27;installation de Centreon, il est n√©cessaire de changer les mots de passe par d√©faut des utilisateurs suivants:</p><ul><li>root</li><li>centreon</li><li>centreon-engine</li><li>centreon-broker</li><li>centreon-gorgone</li></ul><p>Pour cela, utilisez la commande suivante avec un compte privil√©gi√© (par exemple sudo) ou avec root (non recommand√© - vous devez
avoir un utilisateur d√©di√©) :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">passwd</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">account_name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>De plus, il est important de v√©rifier que le compte Apache ne dispose pas de droits de connexion au terminal. Ex√©cutez
la commande suivante :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/passwd </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> apache</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Vous devez avoir <strong>/sbin/nologin</strong> tel que :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Pour rappel, la liste des utilisateurs et des groupes se trouve <a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/installation/prerequisites/#utilisateurs-et-groupes">ici</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activer-selinux">Activer SELinux<a href="#activer-selinux" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Centreon a r√©cemment d√©velopp√© des r√®gles SELinux afin de renforcer le contr√¥le
des composants par le syst√®me d&#x27;exploitation.</p><blockquote><p>Ces r√®gles sont actuellement en <strong>mode b√™ta</strong> et peuvent √™tre activ√©es. Vous
pouvez les activer en suivant cette proc√©dure. Lors de la d√©tection d&#x27;un
probl√®me, il est possible de d√©sactiver SELinux globalement et de nous envoyer
vos commentaires afin d&#x27;am√©liorer nos r√®gles sur
<a href="https://github.com/centreon/centreon" target="_blank" rel="noopener noreferrer">Github</a>.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pr√©sentation-de-selinux">Pr√©sentation de SELinux<a href="#pr√©sentation-de-selinux" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>Security Enhanced Linux (SELinux) fournit une couche suppl√©mentaire de s√©curit√© du syst√®me. SELinux r√©pond
fondamentalement √† la question: <code>Le &lt;suject&gt; peut-il faire cette &lt;action&gt; sur &lt;object&gt; ?</code>, Par exemple: un serveur Web
peut-il acc√©der aux fichiers des r√©pertoires personnels des utilisateurs ?</p><p>La strat√©gie d&#x27;acc√®s standard bas√©e sur l&#x27;utilisateur, le groupe et d&#x27;autres autorisations, connue sous le nom de
contr√¥le d&#x27;acc√®s discr√©tionnaire (DAC), ne permet pas aux administrateurs syst√®me de cr√©er des strat√©gies de s√©curit√©
compl√®tes et pr√©cises, telles que la restriction d&#x27;applications sp√©cifiques √† l&#x27;affichage uniquement des fichiers
journaux, tout en permettant √† d&#x27;autres applications d&#x27;ajouter de nouvelles donn√©es aux fichiers journaux.</p><p>SELinux impl√©mente le contr√¥le d&#x27;acc√®s obligatoire (MAC). Chaque processus et ressource syst√®me poss√®de une √©tiquette
de s√©curit√© sp√©ciale appel√©e contexte SELinux. Un contexte SELinux, parfois appel√© √©tiquette SELinux, est un identifiant
qui fait abstraction des d√©tails au niveau du syst√®me et se concentre sur les propri√©t√©s de s√©curit√© de l&#x27;entit√©. Non
seulement cela fournit un moyen coh√©rent de r√©f√©rencer des objets dans la strat√©gie SELinux, mais cela supprime √©galement
toute ambigu√Øt√© qui peut √™tre trouv√©e dans d&#x27;autres m√©thodes d&#x27;identification. Par exemple, un fichier peut avoir plusieurs
noms de chemin valides sur un syst√®me qui utilise des montages de liaison.</p><p>La politique SELinux utilise ces contextes dans une s√©rie de r√®gles qui d√©finissent comment les processus peuvent
interagir entre eux et avec les diff√©rentes ressources syst√®me. Par d√©faut, la strat√©gie n&#x27;autorise aucune interaction
√† moins qu&#x27;une r√®gle n&#x27;accorde explicitement l&#x27;acc√®s.</p><p>Pour plus d&#x27;informations √† propos de SELinux, visitez la <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/using_selinux/getting-started-with-selinux_using-selinux" target="_blank" rel="noopener noreferrer">documentation Red Hat</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="activer-selinux-en-mode-permissif">Activer SELinux en mode permissif<a href="#activer-selinux-en-mode-permissif" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>Par d√©faut, SELinux est d√©sactiv√© lors du processus d&#x27;installation de Centreon. Pour activer SELinux en mode permissif,
vous devez modifier le fichier <code>/etc/selinux/config</code> comme tel :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># This file controls the state of SELinux on the system.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># SELINUX= can take one of these three values:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     enforcing - SELinux security policy is enforced.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     permissive - SELinux prints warnings instead of enforcing.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     disabled - No SELinux policy is loaded.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SELINUX</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">permissive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># SELINUXTYPE= can take one of three two values:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     targeted - Targeted processes are protected,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     minimum - Modification of targeted policy. Only selected processes are protected.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     mls - Multi Level Security protection.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">SELINUXTYPE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">targeted</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Puis red√©marrez votre serveur :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">shutdown</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-r</span><span class="token plain"> now</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installer-les-paquets-centreon-selinux">Installer les paquets Centreon SELinux<a href="#installer-les-paquets-centreon-selinux" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>Suivant le type de serveur, installer les paquets avec la commande suivante :</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Central / Remote Server</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Poller</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Map server</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">MBI server</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-common-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-web-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-broker-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-engine-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-gorgoned-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-plugins-selinux</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-common-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-broker-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-engine-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-gorgoned-selinux </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-plugins-selinux</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-map-selinux</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> centreon-mbi-selinux</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>Pour v√©rifier l&#x27;installation, ex√©cutez la commande suivante :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">semodule </span><span class="token parameter variable" style="color:#36acaa">-l</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> centreon</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Suivant votre type de serveur, vous pouvez voir :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">centreon-broker </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-common </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-engine </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-gorgoned   </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-plugins    </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">centreon-web    </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="auditer-les-journaux-et-activer-selinux">Auditer les journaux et activer SELinux<a href="#auditer-les-journaux-et-activer-selinux" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>Avant d&#x27;activer SELinux en <strong>mode renforc√©</strong>, vous devez vous assurer qu&#x27;aucune erreur n&#x27;appara√Æt √† l&#x27;aide de la
commande suivante :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /var/log/audit/audit.log </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> denied</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si des erreurs apparaissent, vous devez les analyser et d√©cider si ces erreurs sont r√©guli√®res et doivent √™tre ajout√©es
en plus des r√®gles SELinux par d√©faut de Centreon. Pour ce faire, utilisez la commande suivante pour transformer
l&#x27;erreur en r√®gles SELinux :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">audit2allow </span><span class="token parameter variable" style="color:#36acaa">-a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ex√©cutez ensuite les r√®gles propos√©es.</p><p>Si apr√®s un certain temps, aucune erreur n&#x27;est pr√©sente, vous pouvez activer SELinux en mode renforc√© en suivant cette
<a href="#activer-selinux-en-mode-permissif">proc√©dure</a> avec le mode <strong>enforcing</strong>.</p><blockquote><p>N&#x27;h√©sitez pas √† nous faire part de vos retours sur <a href="https://github.com/centreon/centreon" target="_blank" rel="noopener noreferrer">Github</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="s√©curisez-les-fichiers-de-configuration">S√©curisez les fichiers de configuration<a href="#s√©curisez-les-fichiers-de-configuration" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Changez les permissions des fichiers de configuration suivants:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chown</span><span class="token plain"> centreon:centreon /etc/centreon/conf.pm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">660</span><span class="token plain"> /etc/centreon/conf.pm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>et</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chown</span><span class="token plain"> apache:apache /etc/centreon/centreon.conf.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">660</span><span class="token plain"> /etc/centreon/centreon.conf.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="s√©curisez-linstallation-du-sgbd">S√©curisez l&#x27;installation du SGBD<a href="#s√©curisez-linstallation-du-sgbd" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p><a href="https://mariadb.com/kb/en/mysql_secure_installation/" target="_blank" rel="noopener noreferrer">MariaDB</a> propose une proc√©dure par d√©faut pour s√©curiser
l&#x27;installation du SGBD. Vous devez obligatoirement d√©finir un mot de passe pour l&#x27;utilisateur <strong>root</strong> de la base de donn√©es. Veuillez ex√©cuter la commande suivante et suivre les instructions :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql_secure_installation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activation-de-firewalld">Activation de firewalld<a href="#activation-de-firewalld" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Installez firewalld:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> firewalld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Activez firewalld:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> firewalld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start firewalld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>La liste des flux r√©seau n√©cessaires pour chaque type de serveur est d√©finie
<a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/installation/architectures/#tableau-des-flux-de-la-plate-forme">ici</a>.</p></blockquote><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Central / Remote Server</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Poller</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Exemple de r√®gles pour un Centreon Central ou Remote Server:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># For default protocols</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ssh </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">snmp </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">snmptrap </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Centreon Gorgone</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5556</span><span class="token plain">/tcp </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Centreon Broker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5669</span><span class="token plain">/tcp </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Exemple de r√®gles pour un collecteur Centreon:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># For default protocols</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ssh </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">snmp </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">snmptrap </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Centreon Gorgone</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--zone</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">public --add-port</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5556</span><span class="token plain">/tcp </span><span class="token parameter variable" style="color:#36acaa">--permanent</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>Une fois les r√®gles ajout√©es, il est n√©cessaire de recharger firewalld:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">firewall-cmd </span><span class="token parameter variable" style="color:#36acaa">--reload</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="activez-fail2ban">Activez fail2ban<a href="#activez-fail2ban" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>Fail2ban est un framework de pr√©vention contre les intrusions, √©crit en Python.</p><p>Installez fail2ban :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> epel-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> fail2ban fail2ban-systemd python-inotify</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si SELinux est install√©, mettez √† jour les politiques SELinux :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum update </span><span class="token parameter variable" style="color:#36acaa">-y</span><span class="token plain"> selinux-policy*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Activez firewalld :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> fail2ban</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start fail2ban </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Copiez le fichier de r√®gles par d√©faut :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> /etc/fail2ban/jail.conf /etc/fail2ban/jail.local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Editez le fichier <code>/etc/fail2ban/jail.local</code> et recherchez le bloc <strong>[centreon]</strong>, puis modifiez tel que :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">centreon</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">port    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> http,https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logpath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> /var/log/centreon/login.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">backend  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pyinotify</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pour activer la r√®gle <strong>centreon</strong> fail2ban, cr√©ez le fichier <code>/etc/fail2ban/jail.d/custom.conf</code> et ajoutez les lignes
suivantes :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">centreon</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enabled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">findtime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 10m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bantime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> 10m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maxretry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>maxretry</strong> est le nombre d&#x27;authentifications √©chou√©es avant bannissement de l&#x27;adresse IP.</p><p><strong>bantime</strong> est la dur√©e du bannissement.</p><p><strong>findtime</strong> est la plage de temps pour trouver les authentifications en √©checs.</p></blockquote><p>Puis red√©marrez fail2ban pour charger votre r√®gle :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart fail2ban</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Pour v√©rifier l&#x27;√©tat de la r√®gle <strong>centreon</strong>, vous pouvez ex√©cuter :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fail2ban-client status centreon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Status </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> the jail: centreon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">- Filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">- Currently failed: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">- Total failed: </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable" style="color:#36acaa">- File list:    /var/log/centreon/login.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable" style="color:#36acaa">`</span><span class="token plain">- Actions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">- Currently banned: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">- Total banned: </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   `- Banned IP list:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Pour plus d&#x27;informations, visitez le <a href="http://www.fail2ban.org" target="_blank" rel="noopener noreferrer">site officiel</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="passez-le-serveur-web-en-https">Passez le serveur web en HTTPS<a href="#passez-le-serveur-web-en-https" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Par d√©faut, Centreon installe un serveur Web en mode HTTP. Il est fortement recommand√© de passer en mode HTTPS en
ajoutant votre certificat.</p><p>Il vaut mieux utiliser un certificat valid√© par une autorit√© plut√¥t que d&#x27;utiliser un certificat auto-sign√©. Cependant, si un certificat auto-sign√© vous convient mieux, r√©f√©rez-vous √† la <a href="#s%C3%A9curisez-le-serveur-web-apache-avec-un-certificat-auto-sign%C3%A9">section correspondante</a>.</p><p>Si vous ne disposez pas d&#x27;un certificat valid√© par une autorit√©, vous pouvez en g√©n√©rer un sur des plateformes telles
que <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let&#x27;s Encrypt</a>.</p><blockquote><p>Une fois que votre serveur web est configur√© en mode HTTPS et si vous avez un serveur Map sur votre plateforme,
vous devez le configurer en mode HTTPS √©galement, sinon, les navigateurs web r√©cents peuvent bloquer
la communication entre les deux serveurs. La proc√©dure est d√©taill√©e <a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/graph-views/secure-your-map-platform/#Configure-HTTPS/TLS-on-the-MAP-server">ici</a>.</p></blockquote><p>Une fois votre certificat obtenu, effectuez la proc√©dure suivante pour activer le mode HTTPS sur votre serveur Apache :</p><ol><li>Installez le module SSL pour Apache</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> mod_ssl mod_security openssl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> httpd24-mod_ssl httpd24-mod_security openssl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><ol start="2"><li>Installez vos certificats</li></ol><p>Copiez votre certificat et votre cl√© sur le serveur en fonction de votre configuration; par d√©faut:</p><ul><li>/etc/pki/tls/certs/ca.crt</li><li>/etc/pki/tls/private/ca.key</li></ul><ol start="3"><li>Sauvegardez la configuration actuelle du serveur Apache pour Centreon</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> /etc/httpd/conf.d/10-centreon.conf</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">,.origin</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> /opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">,.origin</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><ol start="4"><li>√âditez la configuration Apache pour Centreon</li></ol><blockquote><p>Centreon propose un fichier de configuration d&#x27;exemple HTTPS disponible dans le r√©pertoire:
<strong>/usr/share/centreon/examples/centreon.apache.https.conf</strong></p></blockquote><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>√âditez  le fichier <strong>/etc/httpd/conf.d/10-centreon.conf</strong> tel que :</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>√âditez  le fichier <strong>/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</strong> tel que :</p></div></div></div><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alias /centreon/api /usr/share/centreon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alias /centreon /usr/share/centreon/www/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;LocationMatch ^/centreon/(?!api/latest/|api/beta/|api/v[0-9]+/|api/v[0-9]+\.[0-9]+/)(.*\.php(/.*)?)$&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/www/$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/LocationMatch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;LocationMatch ^/centreon/(authentication|api/(latest|beta|v[0-9]+|v[0-9]+\.[0-9]+))/.*$&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/api/index.php/$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/LocationMatch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProxyTimeout 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{HTTPS} off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#####################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># SSL configuration #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#####################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLProtocol All -SSLv3 -SSLv2 -TLSv1 -TLSv1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-DSS-AES256-GCM-SHA384:DHE-DSS-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-GCM-SHA256:!aNULL:!eNULL:!LOW:!3DES:!MD5:!EXP:!PSK:!DSS:!RC4:!SEED:!ADH:!IDEA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLHonorCipherOrder On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCompression Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCertificateFile /etc/pki/tls/certs/ca.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCertificateKeyFile /etc/pki/tls/private/ca.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;IfModule mod_security2.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # https://github.com/SpiderLabs/ModSecurity/issues/652</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SecRuleRemoveById 200003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Directory &quot;/usr/share/centreon/www&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DirectoryIndex index.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Options Indexes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AllowOverride all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Order allow,deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Allow from all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Require all granted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;IfModule mod_php5.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            php_admin_value engine Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FallbackResource /centreon/index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddType text/plain hbs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Directory &quot;/usr/share/centreon/api&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Options Indexes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AllowOverride all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Order allow,deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Allow from all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Require all granted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;IfModule mod_php5.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            php_admin_value engine Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddType text/plain hbs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RedirectMatch ^/$ /centreon</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>N&#x27;oubliez pas de changer les directives <strong>SSLCertificateFile</strong> et <strong>SSLCertificateKeyFile</strong> avec les chemins d&#x27;acc√®s
vers votre cl√© et votre certificat.</p></blockquote><ol start="5"><li>Activez les flags HttpOnly et Secure et cachez la signature du serveur</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>√âditez le fichier <strong>/etc/httpd/conf.d/10-centreon.conf</strong> et ajouter la ligne suivante :</p><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Header always edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure;SameSite=Strict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header always set Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ServerSignature Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ServerTokens Prod</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>√âditez le fichier <strong>/etc/php.d/50-centreon.ini*</strong> et d√©sactivez le param√®tre <code>expose_php</code> :</p><div class="language-phpconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-phpconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expose_php = Off</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>√âditez le fichier <strong>/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</strong> et ajouter la ligne suivante :</p><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Header set X-Frame-Options: &quot;sameorigin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header always edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure;SameSite=Strict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header always set Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ServerSignature Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ServerTokens Prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TraceEnable Off</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>√âditez le fichier <strong>/etc/php.d/50-centreon.ini</strong> et d√©sactivez le param√®tre <code>expose_php</code> :</p><div class="language-phpconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-phpconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">expose_php = Off</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><ol start="6"><li>Cachez le r√©pertoire par d√©faut /icons</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>√âditez le fichier <strong>/etc/httpd/conf.d/autoindex.conf</strong> et commentez la ligne suivante :</p><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#Alias /icons/ &quot;/usr/share/httpd/icons/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>√âditez le fichier <strong>/opt/rh/httpd24/root/etc/httpd/conf.d/autoindex.conf</strong> et commentez la ligne suivante :</p><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#Alias /icons/ &quot;/opt/rh/httpd24/root/usr/share/httpd/icons/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><ol start="7"><li>Red√©marrez le serveur web Apache et PHP pour prendre en compte la configuration</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart php-fpm httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Puis v√©rifiez le statut :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si tout est correct, vous devriez avoir quelque chose comme :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚óè httpd.service - The Apache HTTP Server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">/usr/lib/systemd/system/httpd.service</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Drop-In: /usr/lib/systemd/system/httpd.service.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îî‚îÄphp-fpm.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">running</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> since Tue </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-10-27 </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">:49:42 GMT</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> 2h 35min ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Docs: man:httpd.service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Main PID: </span><span class="token number" style="color:#36acaa">1483</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">httpd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Status: </span><span class="token string" style="color:#e3116c">&quot;Total requests: 446; Idle/Busy workers 100/0;Requests/sec: 0.0479; Bytes served/sec: 443 B/sec&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Tasks: </span><span class="token number" style="color:#36acaa">278</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">limit: </span><span class="token number" style="color:#36acaa">5032</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Memory: </span><span class="token number" style="color:#36acaa">39</span><span class="token plain">.6M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CGroup: /system.slice/httpd.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1483 /usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1484 /usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1485 /usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1486 /usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1487 /usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îî‚îÄ1887 /usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart php-fpm httpd24-httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Puis v√©rifiez le statut :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status httpd24-httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si tout est correct, vous devriez avoir quelque chose comme :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚óè httpd24-httpd.service - The Apache HTTP Server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">/usr/lib/systemd/system/httpd24-httpd.service</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">running</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> since mar. </span><span class="token number" style="color:#36acaa">2020</span><span class="token plain">-05-12 </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:39:58 CEST</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> 25min ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Process: </span><span class="token number" style="color:#36acaa">31762</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ExecStop</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/rh/httpd24/root/usr/sbin/httpd-scl-wrapper </span><span class="token variable" style="color:#36acaa">$OPTIONS</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-k</span><span class="token plain"> graceful-stop </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">exited, </span><span class="token assign-left variable" style="color:#36acaa">status</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">/SUCCESS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Main PID: </span><span class="token number" style="color:#36acaa">31786</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">httpd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Status: </span><span class="token string" style="color:#e3116c">&quot;Total requests: 850; Idle/Busy workers 50/50;Requests/sec: 0.547; Bytes served/sec: 5.1KB/sec&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CGroup: /system.slice/httpd24-httpd.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ </span><span class="token number" style="color:#36acaa">1219</span><span class="token plain"> /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31786 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31788 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31789 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31790 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31802 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31865 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31866 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31882 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ31903 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îî‚îÄ32050 /opt/rh/httpd24/root/usr/sbin/httpd </span><span class="token parameter variable" style="color:#36acaa">-DFOREGROUND</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="s√©curisez-le-serveur-web-apache-avec-un-certificat-auto-sign√©">S√©curisez le serveur web Apache avec un certificat auto-sign√©<a href="#s√©curisez-le-serveur-web-apache-avec-un-certificat-auto-sign√©" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>Soit un serveur Centreon avec le FQDN suivant : <strong>centreon7.localdomain</strong>.</p><ol><li><p>Pr√©parez la configuration OpenSSL :</p><p>En raison d&#x27;un changement de politique chez Google, les certificats auto-sign√©s peuvent √™tre rejet√©s par le navigateur Google Chrome (sans qu&#x27;il soit possible d&#x27;ajouter une exception). Pour continuer √† utiliser ce navigateur, vous devez modifier la configuration openssl.</p><p>Ouvrez le fichier <strong>/etc/pki/tls/openssl.cnf</strong> et trouvez la section <strong>[v3_ca]</strong>:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Ajoutez le tag alt_names qui vous permet d&#x27;indiquer les diff√©rents IPs et FQDNs du serveur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ alt_names ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP.1 = xxx.xxx.xxx.xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DNS.1 = centreon7.localdomain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Si vous avez plusieurs IPs(HA: vip + ip)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># IP.2 = xxx.xxx.xxx.xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ v3_ca ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subjectAltName = @alt_names</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Cr√©ez une cl√© priv√©e pour le serveur :</p><p>Cr√©ez une cl√© priv√©e nomm√©e <strong>centreon7.key</strong> sans mot de passe afin qu&#x27;elle puisse √™tre utilis√©e par le service apache.</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -out centreon7.key 2048</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Prot√©gez le fichier en modifiant ses droits :</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod 400 centreon7.key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Cr√©ez un fichier CSR : </p><p>Avec la cl√© que vous venez de cr√©er, cr√©ez un fichier CSR (Certificate Signing Request). Remplissez les champs avec les informations propres √† votre entreprise.
Le champ <strong>Common Name</strong> doit √™tre identique au hostname de votre serveur Apache (dans notre cas, <strong>centreon7.localdomain</strong>).</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -new -key centreon7.key -out centreon7.csr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Cr√©ez une cl√© priv√©e pour le certificat de l&#x27;autorit√© de certification :</p><p>En premier lieu, cr√©ez une cl√© priv√©e pour cette autorit√©. Ajoutez l&#x27;option -aes256 pour chiffrer la cl√© produite et y appliquer un mot de passe. Ce mot de passe sera demand√© chaque fois que la cl√© sera utilis√©e.</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl genrsa -aes256 2048 &gt; ca_demo.key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Cr√©ez le certificat x509 √† partir de la cl√© priv√©e du certificat de l&#x27;autorit√© de certification :</p><p>Ensuite, cr√©ez un certificat x509 qui sera valide pendant un an.</p><blockquote><p> Attention, il est n√©cessaire de simuler un tiers de confiance : le &quot;Common Name&quot; doit √™tre diff√©rent de celui du certificat du serveur.</p></blockquote><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl req -new -x509 -days 365 -key ca_demo.key -out ca_demo.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ce certificat √©tant cr√©√©, vous pourrez l&#x27;utiliser pour signer le certificat du serveur.</p></li><li><p>Cr√©ez un certificat pour le serveur :</p><p>Utilisez le certificat x509 pour signer votre certificat pour le serveur :</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openssl x509 -req -in centreon7.csr -out centreon7.crt -CA ca_demo.crt -CAkey ca_demo.key -CAcreateserial -CAserial ca_demo.srl  -extfile /etc/pki/tls/openssl.cnf -extensions v3_ca</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>L&#x27;option CAcreateserial n&#x27;est n√©cessaire que la premi√®re fois. Vous devez entrer le mot de passe pr√©c√©demment d√©fini. Vous obtenez un certificat pour le serveur nomm√© <strong>centreon7.crt</strong>.</p><p>Vous pouvez voir le contenu du fichier : </p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">less centreon7.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Copiez les fichiers dans la configuration Apache :</p><p>Copiez la cl√© priv√©e du serveur et le certificat du serveur que vous avez sign√©.</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp centreon7.key /etc/pki/tls/private/centreon7.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp centreon7.crt /etc/pki/tls/certs/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Mettre √† jour le fichier de configuration Apache :</p><p>Selon le nom des fichiers cr√©√©s, mettez √† jour les param√®tres <strong>SSLCertificateFile</strong> et <strong>SSLCertificateKeyFile</strong> dans votre fichier de configuration Apache (<strong>/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</strong>).</p><p>Voici un exemple de ce √† quoi le fichier peut ressembler:</p><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Alias /centreon/api /usr/share/centreon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alias /centreon /usr/share/centreon/www/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;LocationMatch ^/centreon/(?!api/latest/|api/beta/|api/v[0-9]+/|api/v[0-9]+\.[0-9]+/)(.*\.php(/.*)?)$&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/www/$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/LocationMatch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;LocationMatch ^/centreon/(authentication|api/(latest|beta|v[0-9]+|v[0-9]+\.[0-9]+))/.*$&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProxyPassMatch fcgi://127.0.0.1:9042/usr/share/centreon/api/index.php/$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/LocationMatch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProxyTimeout 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteCond %{HTTPS} off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #####################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # SSL configuration #</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #####################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLEngine on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCertificateFile /etc/pki/tls/certs/centreon7.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SSLCertificateKeyFile /etc/pki/tls/private/centreon7.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;IfModule mod_security2.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # https://github.com/SpiderLabs/ModSecurity/issues/652</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SecRuleRemoveById 200003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Directory &quot;/usr/share/centreon/www&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DirectoryIndex index.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Options Indexes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AllowOverride all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Order allow,deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Allow from all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Require all granted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;IfModule mod_php5.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            php_admin_value engine Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        FallbackResource /centreon/index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddType text/plain hbs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Directory &quot;/usr/share/centreon/api&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Options Indexes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AllowOverride all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Order allow,deny</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Allow from all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Require all granted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;IfModule mod_php5.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            php_admin_value engine Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddType text/plain hbs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Copiez le certificat x509 sur le navigateur client :</p><p>Maintenant, r√©cup√©rez le fichier du certificat x509 <strong>ca_demo.crt</strong> et importez-le dans le magasin de certificats de votre navigateur.</p></li><li><p>Configuration API de Gorgone</p></li></ol><p>√âditez le fichier <strong>/etc/centreon-gorgone/config.d/31-centreon-api.yaml</strong> en rempla√ßant <strong>127.0.0.1</strong>
par le FQDN de votre serveur central :</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gorgone:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tpapi:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: centreonv2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base_url: &quot;http://centreon7.localdomain/centreon/api/latest/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      username: &quot;centreon-gorgone&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      password: &quot;bpltc4aY&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: clapi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      username: &quot;centreon-gorgone&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      password: &quot;bpltc4aY&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Red√©marrez le daemon Gorgone :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart gorgoned</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Puis v√©rifiez le statut :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status gorgoned</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Si tout est correct, vous devriez avoir quelque chose comme :</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">‚óè gorgoned.service - Centreon Gorgone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Loaded: loaded </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">/etc/systemd/system/gorgoned.service</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> vendor preset: disabled</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Active: active </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">running</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> since Mon </span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-03-06 </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:58:10 CET</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> 27min ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Main PID: </span><span class="token number" style="color:#36acaa">1791096</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">perl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Tasks: </span><span class="token number" style="color:#36acaa">124</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">limit: </span><span class="token number" style="color:#36acaa">23040</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Memory: </span><span class="token number" style="color:#36acaa">595</span><span class="token plain">.3M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   CGroup: /system.slice/gorgoned.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791096 /usr/bin/perl /usr/bin/gorgoned </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/etc/centreon-gorgone/config.yaml </span><span class="token parameter variable" style="color:#36acaa">--logfile</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/log/centreon-gorgone/gorgoned.log </span><span class="token parameter variable" style="color:#36acaa">--severity</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791109 gorgone-statistics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791112 gorgone-legacycmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791117 gorgone-engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791118 gorgone-audit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791125 gorgone-nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791138 gorgone-action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791151 gorgone-cron</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791158 gorgone-dbcleaner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791159 gorgone-autodiscovery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791166 gorgone-httpserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791180 gorgone-proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791181 gorgone-proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791182 gorgone-proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îú‚îÄ1791189 gorgone-proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           ‚îî‚îÄ1791190 gorgone-proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mars 06 </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:58:10 ito-central systemd</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: gorgoned.service: Succeeded.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mars 06 </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:58:10 ito-central systemd</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Stopped Centreon Gorgone.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mars 06 </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:58:10 ito-central systemd</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Started Centreon Gorgone.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Vous devriez voir la ligne suivante dans les logs de Gorgone <strong>/var/log/centreon-gorgone/gorgoned.log</strong> :</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2023-03-06 15:58:12 - INFO - [autodiscovery] -class- host discovery - sync started</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="uri-personnalis√©e">URI personnalis√©e<a href="#uri-personnalis√©e" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Il est possible de modifier l&#x27;URI de Centreon. Par exemple, <strong>/centreon</strong> peut √™tre remplac√© par <strong>/monitoring</strong>.</p><blockquote><p>Au moins un niveau de chemin est obligatoire.</p></blockquote><p>Pour mettre √† jour l&#x27;URI Centreon, vous devez suivre les √©tapes suivantes:</p><ol><li>Rendez-vous dans le menu <code>Administration &gt; Param√®tres &gt; Centreon web</code> et modifiez le champ <strong>Centreon Web Directory</strong></li></ol><p><img loading="lazy" alt="image" src="/centreon-documentation/pr-preview/pr-2614/fr/assets/images/custom-uri-ab5f29f9c8019a2b59bf5dd2c063fef2.png" width="698" height="173" class="img_ev3q"></p><ol start="2"><li>√âditez le fichier de configuration Apache pour Centreon</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /etc/httpd/conf.d/10-centreon.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> /opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>et modifiez le chemin <strong>/centreon</strong> par le nouveau.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activation-du-http2">Activation du http2<a href="#activation-du-http2" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Il est possible d&#x27;activer le protocole http2 pour am√©liorer les performances r√©seaux de Centreon.</p><p>Pour utiliser http2, vous devez suivre les √©tapes suivantes:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RHEL / CentOS / Oracle Linux 8</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CentOS 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol><li><p><a href="#passez-le-serveur-web-en-https">Configurer le https pour Centreon</a></p></li><li><p>Installez le module nghttp2:</p></li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> nghttp2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Enable http2 protocol in <strong>/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</strong>:</li></ol><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Protocols h2 h2c http/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Modifiez la m√©thode utilis√©e par apache pour le module multi-processus dans <strong>/etc/httpd/conf.modules.d/00-mpm.conf</strong> :</li></ol><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">#LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">#LoadModule mpm_event_module modules/mod_mpm_event.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">LoadModule mpm_event_module modules/mod_mpm_event.so</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Red√©marrez le processus Apache pour prendre en compte la nouvelle configuration:</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol><li><p><a href="#passez-le-serveur-web-en-https">Configurer le https pour Centreon</a></p></li><li><p>Installez le module nghttp2:</p></li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> httpd24-nghttp2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Enable http2 protocol in <strong>/opt/rh/httpd24/root/etc/httpd/conf.d/10-centreon.conf</strong>:</li></ol><div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost *:443&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Protocols h2 h2c http/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Modifiez la m√©thode utilis√©e par apache pour le module multi-processus dans <strong>/opt/rh/httpd24/root/etc/httpd/conf.modules.d/00-mpm.conf</strong>:</li></ol><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">#LoadModule mpm_prefork_module modules/mod_mpm_prefork.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">#LoadModule mpm_event_module modules/mod_mpm_event.so</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">LoadModule mpm_event_module modules/mod_mpm_event.so</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Red√©marrez le processus Apache pour prendre en compte la nouvelle configuration:</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl restart httpd24-httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentification-des-utilisateurs">Authentification des utilisateurs<a href="#authentification-des-utilisateurs" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Centreon propose plusieurs m√©thodes pour authentifier les utilisateurs :</p><ul><li><a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/connect/loginpwd/">localement</a> (MySQL)</li><li><a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/parameters/ldap/">LDAP</a></li><li><a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/connect/sso/">Generic SSO</a> ou <a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/connect/openid/">OpenId Connect</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cr√©er-des-profils-dutilisateurs">Cr√©er des profils d&#x27;utilisateurs<a href="#cr√©er-des-profils-dutilisateurs" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Centreon propose de g√©rer les autorisations d&#x27;acc√®s aux diff√©rents menus, ressources et actions possibles sur ces ressources
via la gestion de <a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/access-control-lists/">liste de contr√¥le d&#x27;acc√®s</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="communications-s√©curis√©es-entre-les-serveurs">Communications s√©curis√©es entre les serveurs<a href="#communications-s√©curis√©es-entre-les-serveurs" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Il est fortement recommand√© de s√©curiser les communications entre les diff√©rents serveurs de la plateforme Centreon si
certains serveurs ne sont pas dans un r√©seau s√©curis√©.</p><blockquote><p>Le tableau des flux r√©seau est disponible <a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/installation/architectures/#tableau-des-flux-r%C3%A9seau">ici</a>.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="communication-centreon-broker">Communication Centreon Broker<a href="#communication-centreon-broker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="centreon-broker-et-pare-feu">Centreon Broker et pare-feu<a href="#centreon-broker-et-pare-feu" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h4><p>Parfois, il n&#x27;est pas possible d&#x27;initialiser le flux Centreon Broker depuis le collecteur (ou Remote Server)
vers le serveur Centreon Central ou le Remote Server.
<a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/monitoring/monitoring-servers/advanced-configuration/#centreon-broker-and-the-firewall">Voir la configuration suivante pour inverser le flux</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="authentification-des-flux-centreon-broker">Authentification des flux Centreon Broker<a href="#authentification-des-flux-centreon-broker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h4><p>Si vous devez authentifier des collecteurs qui envoient des donn√©es, vous pouvez utiliser le m√©canisme d&#x27;authentification
Centreon Broker, qui est bas√© sur des certificats X.509.
<a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/monitoring/monitoring-servers/advanced-configuration/#authentification-avec-centreon-broker">Voir la configuration suivante pour authentifier les collecteurs</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="compressez-et-chiffrez-la-communication-centreon-broker">Compressez et chiffrez la communication Centreon Broker<a href="#compressez-et-chiffrez-la-communication-centreon-broker" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h4><p>Il est √©galement possible de compresser et de chiffrer la communication de Centreon Broker. Allez dans le menu
<code>Configuration &gt; Pollers &gt; Broker configuration</code>, modifiez votre configuration Centreon Broker et activez les entr√©es
et sorties <strong>IPv4</strong>:</p><ul><li>Enable TLS encryption: Auto</li><li>Enable negotiation: Yes</li><li>Compression (zlib): Auto</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="communication-centreon-gorgone">Communication Centreon Gorgone<a href="#communication-centreon-gorgone" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h3><p>La <a href="https://github.com/centreon/centreon-gorgone/blob/master/docs/configuration.md#gorgonecore" target="_blank" rel="noopener noreferrer">documentation officielle de Centreon gorgone</a> vous permettra de s√©curiser la communication entre les processus Gorgone.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-de-linformation-et-des-√©v√©nements-de-s√©curit√©-siem">Gestion de l&#x27;information et des √©v√©nements de s√©curit√© (SIEM)<a href="#gestion-de-linformation-et-des-√©v√©nements-de-s√©curit√©-siem" class="hash-link" aria-label="Lien direct vers le titre" title="Lien direct vers le titre">‚Äã</a></h2><p>Les journaux des √©v√©nements Centreon sont disponibles dans les r√©pertoires suivants :</p><table><thead><tr><th>R√©pertoires des journaux</th><th>Central server</th><th>Remote Server</th><th>Poller</th><th>Centreon Map server</th><th>Centreon MBI Server</th></tr></thead><tbody><tr><td>/var/log/centreon</td><td>X</td><td>X</td><td></td><td></td><td></td></tr><tr><td>/var/log/centreon-broker</td><td>X</td><td>X</td><td>X</td><td></td><td></td></tr><tr><td>/var/log/centreon-engine</td><td>X</td><td>X</td><td>X</td><td></td><td></td></tr><tr><td>/var/log/centreon-gorgone</td><td>X</td><td>X</td><td>X</td><td></td><td></td></tr><tr><td>/var/log/centreon-bi</td><td>X</td><td>X</td><td></td><td></td><td></td></tr><tr><td>/var/log/centreon-map</td><td>X</td><td>X</td><td></td><td>X</td><td>X</td></tr></tbody></table><blockquote><p>De plus, toutes les actions de modification de la configuration de Centreon effectu√©es par les utilisateurs sont
disponibles via le menu <a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/logging-configuration-changes/"><code>Administration &gt; Logs</code></a>.</p></blockquote><h1>Sauvegardez votre plateforme</h1><p>Centreon propose de sauvegarder la configuration de la plateforme. Pour ce faire, acc√©dez au menu
<a href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/backup/"><code>Administration  &gt;  Parameters  &gt;  Backup</code></a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/centreon/centreon-documentation/edit/staging/i18n/fr/docusaurus-plugin-content-docs/version-21.10/administration/secure-platform.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>√âditer cette page</a></div><div class="col"><svg id="feedback" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve" fill="none" style="height:24px;width:24px;vertical-align:text-top;margin-right:4px"><rect y="0" class="st0" width="24" height="24"></rect><rect x="2" y="2" class="st0" width="20" height="20"></rect><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M16.14,9.08c0,3.09-2.76,5.6-6.16,5.6c-1.11,0-5.45,0-5.45,0s1.36-1.38,0.93-1.79c-1.02-1-1.64-2.34-1.64-3.81 c0-3.09,2.76-5.6,6.16-5.6S16.14,5.99,16.14,9.08z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" d="M8.61,16.28c0.76,2.31,3.12,4,5.91,4c1.11,0,5.45,0,5.45,0s-1.36-1.38-0.93-1.79c1.02-1,1.64-2.34,1.64-3.81 c0-2-1.15-3.75-2.88-4.74"></path><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="6.86" x2="13.55" y2="6.86"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="8.74" x2="13.55" y2="8.74"></line><line fill="none" stroke="currentColor" stroke-linecap="round" x1="6.78" y1="10.62" x2="13.55" y2="10.62"></line></svg><a rel="noreferrer noopener" href="https://docs.google.com/forms/d/e/1FAIpQLSdeKkEHWbxn4ZweR1M4OEMzP_QoqKmjl6t4iC_yKeX2CFjzAw/viewform?usp=pp_url&amp;entry.371845164=docs.centreon.com/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/administration/secure-platform/" target="_blank">Envoyer du feedback sur cette page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Derni√®re mise √† jour<!-- --> le <b><time datetime="2023-09-14T14:15:41.000Z">14 sept. 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagination des documents"><a class="pagination-nav__link pagination-nav__link--prev" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/ceip/what-is-centreon-ceip/"><div class="pagination-nav__sublabel">Pr√©c√©dent</div><div class="pagination-nav__label">Qu&#x27;est-ce que Centreon CEIP?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/centreon-documentation/pr-preview/pr-2614/fr/docs/21.10/graph-views/secure-your-map-platform/"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Secure your MAP platform</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#renforcez-la-s√©curit√©-des-comptes-utilisateurs" class="table-of-contents__link toc-highlight">Renforcez la s√©curit√© des comptes utilisateurs</a></li><li><a href="#activer-selinux" class="table-of-contents__link toc-highlight">Activer SELinux</a><ul><li><a href="#pr√©sentation-de-selinux" class="table-of-contents__link toc-highlight">Pr√©sentation de SELinux</a></li><li><a href="#activer-selinux-en-mode-permissif" class="table-of-contents__link toc-highlight">Activer SELinux en mode permissif</a></li><li><a href="#installer-les-paquets-centreon-selinux" class="table-of-contents__link toc-highlight">Installer les paquets Centreon SELinux</a></li><li><a href="#auditer-les-journaux-et-activer-selinux" class="table-of-contents__link toc-highlight">Auditer les journaux et activer SELinux</a></li></ul></li><li><a href="#s√©curisez-les-fichiers-de-configuration" class="table-of-contents__link toc-highlight">S√©curisez les fichiers de configuration</a></li><li><a href="#s√©curisez-linstallation-du-sgbd" class="table-of-contents__link toc-highlight">S√©curisez l&#39;installation du SGBD</a></li><li><a href="#activation-de-firewalld" class="table-of-contents__link toc-highlight">Activation de firewalld</a><ul><li><a href="#activez-fail2ban" class="table-of-contents__link toc-highlight">Activez fail2ban</a></li></ul></li><li><a href="#passez-le-serveur-web-en-https" class="table-of-contents__link toc-highlight">Passez le serveur web en HTTPS</a><ul><li><a href="#s√©curisez-le-serveur-web-apache-avec-un-certificat-auto-sign√©" class="table-of-contents__link toc-highlight">S√©curisez le serveur web Apache avec un certificat auto-sign√©</a></li></ul></li><li><a href="#uri-personnalis√©e" class="table-of-contents__link toc-highlight">URI personnalis√©e</a></li><li><a href="#activation-du-http2" class="table-of-contents__link toc-highlight">Activation du http2</a></li><li><a href="#authentification-des-utilisateurs" class="table-of-contents__link toc-highlight">Authentification des utilisateurs</a></li><li><a href="#cr√©er-des-profils-dutilisateurs" class="table-of-contents__link toc-highlight">Cr√©er des profils d&#39;utilisateurs</a></li><li><a href="#communications-s√©curis√©es-entre-les-serveurs" class="table-of-contents__link toc-highlight">Communications s√©curis√©es entre les serveurs</a><ul><li><a href="#communication-centreon-broker" class="table-of-contents__link toc-highlight">Communication Centreon Broker</a></li><li><a href="#communication-centreon-gorgone" class="table-of-contents__link toc-highlight">Communication Centreon Gorgone</a></li></ul></li><li><a href="#gestion-de-linformation-et-des-√©v√©nements-de-s√©curit√©-siem" class="table-of-contents__link toc-highlight">Gestion de l&#39;information et des √©v√©nements de s√©curit√© (SIEM)</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Site Corporate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.centreon.com/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://download.centreon.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/centreon-documentation/pr-preview/pr-2614/fr/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/centreon-documentation/pr-preview/pr-2614/fr/img/logo_centreon.png" alt="Centreon Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright ¬© 2005 - 2023 Centreon</div></div></div></footer></div>
<script src="/centreon-documentation/pr-preview/pr-2614/fr/assets/js/runtime~main.41702fdf.js"></script>
<script src="/centreon-documentation/pr-preview/pr-2614/fr/assets/js/main.48e12780.js"></script>
</body>
</html>